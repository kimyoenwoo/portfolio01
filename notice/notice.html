<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>알림사항 - 스마트교육 자산관리 솔루션</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../css/layout.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/contents.css">
    <link rel="stylesheet" href="../css/board.css">
    <link rel="stylesheet" href="../css/notice.css">
    <script src="../js/header.js"></script>
    <style>
    @media (max-width: 700px) {
      .board-table th.views,
      .board-table td.views,
      .board-table th.writer,
      .board-table td.writer {
        display: none !important;
      }
    }
    </style>
</head>
<body>

<!-- 데스크톱 헤더 -->
<header class="main-header desktop-header">
    <div class="main-header-logo">
        <a href="../index.html">
            <img src="../images/se_logo.png" alt="서울특별시교육청 로고">
        </a>
    </div>
    <nav class="main-header-nav">
        <ul>
            <li class="has-submenu">
                <a href="#" onclick="showComingSoon('쉬운해결'); return false;">쉬운해결</a>
            </li>
            <li class="has-submenu">
                <a href="#" onclick="showComingSoon('AS예약'); return false;">AS예약</a>
            </li>
            <li class="has-submenu">
                <a href="notice.html">알림사항</a>
            </li>
            <li class="has-submenu">
                <a href="../pages/serviceCenter.html">서비스센터 위치</a>
            </li>
        </ul>
    </nav>
    <div class="main-header-login">
        <button class="main-header-login-btn" onclick="location.href='../login.html'">로그인</button>
    </div>
    <button class="main-header-menu-btn" aria-label="메뉴 열기"></button>
</header>

<!-- 모바일 헤더 -->
<header class="mobile-header">
    <div class="mobile-header-top">
        <div class="mobile-header-logo">
            <a href="../index.html">
                <img src="../images/se_logo.png" alt="서울특별시교육청 로고">
            </a>
        </div>
        <button class="mobile-menu-toggle" aria-label="메뉴 열기">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
    <nav class="mobile-nav">
        <ul class="mobile-nav-list">
            <li class="mobile-has-submenu">
                <a href="#" onclick="showComingSoon('쉬운해결'); return false;">쉬운해결 <i class="bi bi-chevron-right"></i></a>
            </li>
            <li class="mobile-has-submenu">
                <a href="#" onclick="showComingSoon('AS예약'); return false;">AS예약 <i class="bi bi-chevron-right"></i></a>
            </li>
            <li class="mobile-has-submenu">
                <a href="notice.html">알림사항 <i class="bi bi-chevron-right"></i></a>
            </li>
            <li class="mobile-has-submenu">
                <a href="../pages/serviceCenter.html">서비스센터 위치 <i class="bi bi-chevron-right"></i></a>
            </li>
        </ul>
        <div class="mobile-nav-footer">
            <button class="mobile-login-btn" onclick="location.href='../login.html'">로그인</button>
        </div>
    </nav>
</header>

<main class="container">
    <div class="mainVisual">
        <h1>알림사항</h1>
        <p>중요한 공지사항과 업데이트 소식을 확인하세요</p>
    </div>
    <div class="contents">
        <div class="path-navigation">
            <ul>
                <li><a href="../index.html">홈</a></li>
                <li class="current">알림사항</li>
            </ul>
        </div>
        <div class="content-title">
            <h2>알림사항</h2>
            <p>스마트교육 자산관리 솔루션의 주요 알림사항을 확인하세요.</p>
        </div>

        <div class="search-area">
            <div class="search-box">
                <input type="text" id="noticeSearch" placeholder="검색어를 입력하세요" class="search-input">
                <button type="button" class="search-btn" onclick="searchNotices()"><i class="bi bi-search"></i></button>
            </div>
        </div>

        <div class="board-container">
            <div class="board-list">
                <table class="board-table">
                    <thead>
                        <tr>
                            <th class="num">번호</th>
                            <th class="title">제목</th>
                            <th class="writer">글쓴이</th>
                            <th class="date">작성일</th>
                            <th class="views">조회수</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-notice-id="1">
                            <td class="num"><span>1</span></td>
                            <td class="title">
                                <a href="noticeView.html?id=1">2024년 자산관리 솔루션 시스템 점검 안내</a>
                            </td>
                            <td class="writer">관리자</td>
                            <td class="date">2024-02-20</td>
                            <td class="views">128</td>
                        </tr>
                        <tr data-notice-id="2">
                            <td class="num"><span>2</span></td>
                            <td class="title">
                                <a href="noticeView.html?id=2">자산관리 솔루션 신규 기능 업데이트 안내</a>
                            </td>
                            <td class="writer">관리자</td>
                            <td class="date">2024-02-15</td>
                            <td class="views">95</td>
                        </tr>
                        <tr data-notice-id="3">
                            <td class="num"><span>3</span></td>
                            <td class="title">
                                <a href="noticeView.html?id=3">2024년 1분기 자산 실사 일정 안내</a>
                            </td>
                            <td class="writer">관리자</td>
                            <td class="date">2024-02-10</td>
                            <td class="views">156</td>
                        </tr>
                        <tr data-notice-id="4">
                            <td class="num"><span>4</span></td>
                            <td class="title">
                                <a href="noticeView.html?id=4">자산관리 솔루션 이용자 교육 안내</a>
                            </td>
                            <td class="writer">관리자</td>
                            <td class="date">2024-02-05</td>
                            <td class="views">87</td>
                        </tr>
                        <tr data-notice-id="5">
                            <td class="num"><span>5</span></td>
                            <td class="title">
                                <a href="noticeView.html?id=5">2024년 자산관리 솔루션 정기 업데이트 안내</a>
                            </td>
                            <td class="writer">관리자</td>
                            <td class="date">2024-02-01</td>
                            <td class="views">112</td>
                        </tr>
                        <tr data-notice-id="6">
                            <td class="num"><span>6</span></td>
                            <td class="title">
                                <a href="noticeView.html?id=6">자산관리 솔루션 고객 만족도 조사 안내</a>
                            </td>
                            <td class="writer">관리자</td>
                            <td class="date">2024-01-28</td>
                            <td class="views">76</td>
                        </tr>
                        <tr data-notice-id="7">
                            <td class="num"><span>7</span></td>
                            <td class="title">
                                <a href="noticeView.html?id=7">자산관리 솔루션 이용자 매뉴얼 업데이트</a>
                            </td>
                            <td class="writer">관리자</td>
                            <td class="date">2024-01-25</td>
                            <td class="views">93</td>
                        </tr>
                        <tr data-notice-id="8">
                            <td class="num"><span>8</span></td>
                            <td class="title">
                                <a href="noticeView.html?id=8">자산관리 솔루션 고객센터 운영시간 변경 안내</a>
                            </td>
                            <td class="writer">관리자</td>
                            <td class="date">2024-01-20</td>
                            <td class="views">68</td>
                        </tr>
                        <tr data-notice-id="9">
                            <td class="num"><span>9</span></td>
                            <td class="title">
                                <a href="noticeView.html?id=9">자산관리 솔루션 보안 강화 안내</a>
                            </td>
                            <td class="writer">관리자</td>
                            <td class="date">2024-01-15</td>
                            <td class="views">145</td>
                        </tr>
                        <tr data-notice-id="10">
                            <td class="num"><span>10</span></td>
                            <td class="title">
                                <a href="noticeView.html?id=10">자산관리 솔루션 연말연시 서비스 안내</a>
                            </td>
                            <td class="writer">관리자</td>
                            <td class="date">2024-01-10</td>
                            <td class="views">132</td>
                        </tr>
                        <tr data-notice-id="11">
                            <td class="num"><span>11</span></td>
                            <td class="title">
                                <a href="noticeView.html?id=11">자산관리 솔루션 신년 맞이 이벤트 안내</a>
                            </td>
                            <td class="writer">관리자</td>
                            <td class="date">2024-01-05</td>
                            <td class="views">178</td>
                        </tr>
                    </tbody>
                </table>
                <div id="noResultsMessage" class="no-results-message" style="display: none;">
                    <div class="no-results-icon">
                        <i class="bi bi-search"></i>
                    </div>
                    <p>일치하는 공지사항이 없습니다.</p>
                    <p class="no-results-sub">다른 검색어로 다시 시도해주세요.</p>
                </div>
                <div class="pagination">
                    <button type="button" class="page-btn prev" onclick="changePage('prev')" disabled>이전</button>
                    <div class="page-numbers" id="pageNumbers">
                        <!-- 페이지 번호는 JavaScript로 동적 생성됩니다 -->
                    </div>
                    <button type="button" class="page-btn next" onclick="changePage('next')">다음</button>
                </div>
                <div class="board-buttons">
                    <button type="button" class="write-btn" onclick="location.href='noticeWrite.html'">글쓰기</button>
                </div>
            </div>
        </div>
    </div>
</main>

<footer class="main-footer">
    <div class="footer-container">
        <div class="footer-top">
            <div class="footer-logo">
                <img src="../images/logo_tgs.png" alt="TGService">
            </div>
            <div class="footer-links">
                <a href="#">이용약관</a>
                <span>|</span>
                <a href="#">개인정보처리방침</a>
                <span>|</span>
                <a href="#">스마트단말 고객지원센터</a>
            </div>
        </div>
        <div class="footer-copyright">
            Copyright©2025 TGS corp. All Rights Reserved.
        </div>
        <div class="footer-bottom-logo">
            <img src="../images/logo_tgs.png" alt="TGService">
        </div>
    </div>
</footer>

<script>
    // 페이지네이션 관련 변수
    let currentPage = 1;
    let totalPages = 1;
    let itemsPerPage = 10;
    let allNotices = [];
    let filteredNotices = [];

    // 검색 기능
    function searchNotices() {
        const searchInput = document.getElementById('noticeSearch');
        const searchTerm = searchInput.value.trim().toLowerCase();
        const boardTable = document.querySelector('.board-table');
        const pagination = document.querySelector('.pagination');
        const noResultsMessage = document.getElementById('noResultsMessage');

        if (!searchTerm) {
            filteredNotices = [...allNotices];
            noResultsMessage.style.display = 'none';
            boardTable.style.display = 'table';
            pagination.style.display = 'flex';
        } else {
            filteredNotices = allNotices.filter(notice => {
                const title = notice.element.querySelector('.title a').textContent.toLowerCase();
                return title.includes(searchTerm);
            });

            if (filteredNotices.length === 0) {
                noResultsMessage.style.display = 'block';
                boardTable.style.display = 'none';
                pagination.style.display = 'none';
            } else {
                noResultsMessage.style.display = 'none';
                boardTable.style.display = 'table';
                pagination.style.display = 'flex';
            }
        }

        currentPage = 1;
        totalPages = Math.ceil(filteredNotices.length / itemsPerPage);
        showPage(1);
    }

    // 공지사항 데이터 초기화
    function initializeNotices() {
        const noticeRows = document.querySelectorAll('.board-table tbody tr');
        const searchInput = document.getElementById('noticeSearch');

        allNotices = Array.from(noticeRows).map(row => ({
            element: row,
            id: row.dataset.noticeId
        }));

        filteredNotices = [...allNotices];
        totalPages = Math.ceil(filteredNotices.length / itemsPerPage);
        showPage(1);

        // 검색 입력창 엔터 키 이벤트 처리
        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                searchNotices();
            }
        });

        // 검색 버튼 클릭 이벤트
        const searchBtn = document.querySelector('.search-btn');
        if (searchBtn) {
            searchBtn.addEventListener('click', function(e) {
                e.preventDefault();
                searchNotices();
            });
        }
    }

    // 페이지네이션 UI 업데이트
    function updatePagination() {
        const pageNumbers = document.getElementById('pageNumbers');
        if (!pageNumbers) return;

        pageNumbers.innerHTML = '';

        if (filteredNotices.length === 0) {
            pageNumbers.style.display = 'none';
            return;
        }

        pageNumbers.style.display = 'flex';

        // 페이지 번호 생성
        for (let i = 1; i <= totalPages; i++) {
            const pageBtn = document.createElement('button');
            pageBtn.type = 'button';
            if (i === currentPage) {
                pageBtn.classList.add('active');
            }
            pageBtn.textContent = i;
            pageBtn.onclick = () => showPage(i);
            pageNumbers.appendChild(pageBtn);
        }

        // 이전/다음 버튼 상태 업데이트
        const prevBtn = document.querySelector('.page-btn.prev');
        const nextBtn = document.querySelector('.page-btn.next');

        if (prevBtn && nextBtn) {
            prevBtn.disabled = currentPage === 1;
            nextBtn.disabled = currentPage === totalPages;
        }
    }

    // 페이지 변경 함수
    function changePage(direction) {
        if (direction === 'prev' && currentPage > 1) {
            showPage(currentPage - 1);
        } else if (direction === 'next' && currentPage < totalPages) {
            showPage(currentPage + 1);
        }
    }

    // 특정 페이지 표시
    function showPage(page) {
        if (page < 1 || page > totalPages) return;

        currentPage = page;

        // 모든 공지사항 숨기기
        allNotices.forEach(notice => {
            notice.element.style.display = 'none';
        });

        // 현재 페이지의 필터링된 공지사항만 표시
        const startIndex = (page - 1) * itemsPerPage;
        const endIndex = Math.min(startIndex + itemsPerPage, filteredNotices.length);

        for (let i = startIndex; i < endIndex; i++) {
            if (filteredNotices[i]) {
                filteredNotices[i].element.style.display = 'table-row';
            }
        }

        // 페이지네이션 UI 업데이트
        updatePagination();
    }

    // 페이지 로드 시 초기화
    document.addEventListener('DOMContentLoaded', function() {
        initializeNotices();
    });
</script>

<script>
function showComingSoon(menuName) {
    alert(`${menuName} 메뉴는 준비중인 화면입니다.\n곧 업데이트 예정입니다.`);
}
</script>

</body>
</html> 